{% extends "base.html" %}
{% load static %}

{% block title %}
<title>Choose career path</title>
{% endblock %}

{% block CSS %}
<link rel="stylesheet" href="{% static 'css/successpage.css' %}">
{% endblock %}

{% block content%}

<div class="container">
    <h1>OTP Verified! Choose Your Role</h1>
    <p>Welcome! Please choose your role to get started:</p>

    <div class="popup-container">
        <button class="popup-btn" onclick="openPopup('freelancerPopup')">Want to start as Freelancer</button>
        <button class="popup-btn" onclick="openPopup('clientPopup')">Want to start as Client</button>
    </div>

    <div id="freelancerPopup" class="popup-box">
        <div class="popup-content">
            <span class="close" onclick="closePopup('freelancerPopup')">&times;</span>
            <h3>Want to start as Freelancer?</h3>
            <form method="POST" action="{% url 'user-redirect' %}">
                {% csrf_token %}
                <input type="hidden" name="role" value="freelancer">
                <button type="submit" class="next-btn">Next</button>
            </form>
        </div>
    </div>

    <div id="clientPopup" class="popup-box">
        <div class="popup-content">
            <span class="close" onclick="closePopup('clientPopup')">&times;</span>
            <h3>Want to start as Client?</h3>
            <form method="POST" action="{% url 'user-redirect' %}">
                {% csrf_token %}
                <input type="hidden" name="role" value="client">
                <button type="submit" class="next-btn">Next</button>
            </form>
        </div>
    </div>
</div>
<script>

function openPopup(popupId) {
    const allPopups = document.querySelectorAll('.popup-box');
    allPopups.forEach(popup => {
        popup.style.display = "none";
    });

    document.getElementById(popupId).style.display = "block";
}

function closePopup(popupId) {
    document.getElementById(popupId).style.display = "none";
}

window.onclick = function(event) {
    var freelancerPopup = document.getElementById('freelancerPopup');
    var clientPopup = document.getElementById('clientPopup');
    if (event.target === freelancerPopup) {
        freelancerPopup.style.display = "none";
    } else if (event.target === clientPopup) {
        clientPopup.style.display = "none";
    }
}

</script>
{% endblock %}