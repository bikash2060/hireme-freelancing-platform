{% extends "base.html" %}
{% load static%}
{% load humanize %}

{% block title %}My Dashboard - HireMe{% endblock %}

{% block css_files %}
<link rel="stylesheet" href="{% static 'css/dashboard/client/dashboard.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="container">
        <div class="hero-content">
            <div class="welcome-message">
                <h2>{{ greeting }}, {{ user.username }}</h2>
                <p class="welcome-text">Here's an overview of your freelancing work</p>
            </div>
            <div class="hero-actions">
                <a href="{% url 'project:new-project' %}" class="post-project-btn">
                    <i class="fas fa-plus-circle"></i> Post New Project
                </a>
            </div>
        </div>
        <div class="stats-overview">
            <div class="stat-card active-card">
                <div class="stat-icon">
                    <i class="fas fa-tasks"></i>
                </div>
                <div class="stat-info">
                    <h4>Project Status</h4>
                    <p class="stat-number">{{ active_projects }} Active</p>
                    <p class="stat-subtext">{{ in_development }} in development, {{ in_review }} in review</p>
                    <a href="{% url 'contract:client_contract_list' %}" class="stat-link">Manage Projects</a>
                </div>
            </div>
            
            <div class="stat-card hiring-card">
                <div class="stat-icon">
                    <i class="fas fa-user-plus"></i>
                </div>
                <div class="stat-info">
                    <h4>Hiring Pipeline</h4>
                    <p class="stat-number">{{ new_proposals }} New Proposals</p>
                    <p class="stat-subtext">{{ shortlisted_proposals }} candidates shortlisted</p>
                    <a href="{% url 'project:client-projects' %}" class="stat-link">Review Applicants</a>
                </div>
            </div>
            
            <div class="stat-card financial-card">
                <div class="stat-icon">
                    <i class="fas fa-credit-card"></i>
                </div>
                <div class="stat-info">
                    <h4>Financial Overview</h4>
                    <p class="stat-number">Rs {{ total_spent|floatformat:2|intcomma }} Spent</p>
                    <p class="stat-subtext">Rs {{ pending_payments|floatformat:2|intcomma }} in pending payments</p>
                    <a href="{% url 'client:transactions' %}" class="stat-link">View Transactions</a>
                </div>
            </div>
            
            <div class="stat-card quality-card">
                <div class="stat-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="stat-info">
                    <h4>Work Quality</h4>
                    <p class="stat-number">{{ completed_projects }}</p>
                    <p class="stat-subtext">Completed Projects</p>
                    <a href="{% url 'project:client-projects' %}?status=completed" class="stat-link">View Projects</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions Section -->
<div class="quick-actions-section">
    <div class="container">
        <h2 class="section-title">Quick Actions</h2>
        <p class="section-subtitle">Get started with these common tasks</p>       
        <div class="quick-actions-grid">
            <div class="action-card">
                <div class="action-icon">
                    <i class="fas fa-plus-circle"></i>
                </div>
                <h3>Post New Project</h3>
                <p>Create a new job listing to attract top freelancers</p>
                <a href="{% url 'project:new-project' %}" class="action-btn">Get Started</a>
            </div>           
            
            <div class="action-card">
                <div class="action-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <h3>Review Proposals</h3>
                <p>Evaluate freelancer bids and shortlist candidates</p>
                <a href="{% url 'project:client-projects' %}" class="action-btn">View Bids</a>
            </div>            
            
            <div class="action-card">
                <div class="action-icon">
                    <i class="fas fa-envelope"></i>
                </div>
                <h3>Contact Freelancers</h3>
                <p>Communicate with your team and discuss project details</p>
                <a href="{% url 'contract:client_contract_list' %}" class="action-btn">
                    Send Message
                </a>
            </div>          
            
            <div class="action-card">
                <div class="action-icon">
                    <i class="fas fa-credit-card"></i>
                </div>
                <h3>Process Payments</h3>
                <p>Release payments and view transaction history</p>
                <a href="{% url 'client:transactions' %}" class="action-btn">Payments</a>
            </div>
        </div>
    </div>
</div>

<!-- Active Projects Section -->
<div class="active-projects-section">
    <div class="container">
        <div class="projects-header">
            <div>
                <h2 class="section-title">Your Active Projects</h2>
                <p class="section-subtitle">Monitor project progress and deadlines</p>
            </div>
            {% comment %} <div class="view-toggle-actions">
                <div class="projects-filter-sort">
                    <div class="filter-container">
                        <select class="filter-dropdown" id="status-filter">
                            <option value="all">All Projects</option>
                            <option value="not-started">Not Started</option>
                            <option value="in-progress">In Progress</option>
                            <option value="pending-review">Pending Review</option>
                            <option value="completed">Completed</option>
                            <option value="cancelled">Cancelled</option>
                        </select>
                    </div>
                    <div class="sort-container">
                        <select class="sort-dropdown" id="projects-sort">
                            <option value="date-desc">Due Date (Newest First)</option>
                            <option value="date-asc">Due Date (Oldest First)</option>
                            <option value="start-desc">Start Date (Newest First)</option>
                            <option value="start-asc">Start Date (Oldest First)</option>
                            <option value="progress-asc">Progress (Low to High)</option>
                            <option value="progress-desc">Progress (High to Low)</option>
                            <option value="budget-desc">Budget (High to Low)</option>
                            <option value="budget-asc">Budget (Low to High)</option>
                            <option value="name-asc">Project Name (A-Z)</option>
                            <option value="name-desc">Project Name (Z-A)</option>
                        </select>
                    </div>
                </div>
            </div> {% endcomment %}
        </div>
        
        {% comment %} <div class="projects-summary">
            <p><span id="project-count">{{ active_projects_data|length }}</span> projects displayed (out of <span id="total-projects">{{ total_projects }}</span>)</p>
            <button class="clear-filters-btn" id="clear-filters">Clear Filters</button>
        </div> {% endcomment %}
        
        {% if active_projects_data %}
            <div class="projects-grid-view" id="projects-container">
                {% for project in active_projects_data %}
                    <div class="project-card">
                        <div class="project-status-indicator {{ project.status }}"></div>
                        <div class="project-card-header">
                            <div class="project-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <div class="project-meta">
                                <h3 class="project-title">{{ project.title|truncatechars:30 }}</h3>
                                <span class="project-category">{{ project.category }}</span>
                            </div>
                        </div>
                        
                        <div class="project-progress">
                            <div class="progress-info">
                                <span>Progress</span>
                                <span>50%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 50%"></div>
                            </div>
                        </div>
                        
                        <div class="project-details">
                            <div class="detail-item">
                                <i class="fas fa-user-tie"></i>
                                <div>
                                    <span>Freelancer</span>
                                    <span class="detail-value">
                                        {% with accepted_proposal=project.proposals.all|first %}
                                            {% if accepted_proposal and accepted_proposal.status == 'accepted' %}
                                                {{ accepted_proposal.freelancer.user.full_name|default:accepted_proposal.freelancer.user.username }}
                                            {% else %}
                                                Not Assigned
                                            {% endif %}
                                        {% endwith %}
                                    </span>
                                </div>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-calendar-alt"></i>
                                <div>
                                    <span>Deadline</span>
                                    <span class="detail-value">
                                        {% with accepted_proposal=project.proposals.all|first %}
                                            {% if accepted_proposal and accepted_proposal.contract %}
                                                {{ accepted_proposal.contract.end_date|date:"M d, Y" }}
                                            {% else %}
                                                Not Set
                                            {% endif %}
                                        {% endwith %}
                                    </span>
                                </div>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-rupee-sign"></i>
                                <div>
                                    <span>Budget</span>
                                    <span class="detail-value">
                                        {% if project.is_fixed_price %}
                                            Rs {{ project.fixed_budget }}
                                        {% else %}
                                            Rs {{ project.budget_min }} - Rs {{ project.budget_max }}
                                        {% endif %}
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="project-footer">
                            {% with accepted_proposal=project.proposals.all|first %}
                                {% if accepted_proposal and accepted_proposal.status == 'accepted' and accepted_proposal.contract %}
                                    <button class="btn-action message-btn" onclick="startChatWithFreelancer({{ accepted_proposal.freelancer.user.id }})">
                                        <i class="fas fa-comment-alt"></i> Message
                                    </button>
                                    <a href="{% url 'contract:workspace' accepted_proposal.contract.id %}" class="btn-action primary-btn">
                                        <i class="fas fa-eye"></i> View Project
                                    </a>
                                {% else %}
                                    <button class="btn-action message-btn" disabled>
                                        <i class="fas fa-comment-alt"></i> Message
                                    </button>
                                    <a href="{% url 'project:client-projects' %}" class="btn-action primary-btn" style="text-decoration: none;">
                                        <i class="fas fa-eye"></i> View Project
                                    </a>
                                {% endif %}
                            {% endwith %}
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-projects">
                <div class="empty-illustration">
                    <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        <path d="M9.5 9h5L12 12.5z"></path>
                    </svg>
                </div>
                <h3 class="empty-title">No Active Projects</h3>
                <p class="empty-message">When you create or get assigned to projects, they'll appear here. Start a new project to find talented freelancers for your needs.</p>
                <div class="empty-actions">
                    <a href="{% url 'project:new-project' %}" class="btn-primary">
                        <i class="fas fa-plus-circle"></i> Create New Project
                    </a>
                    <a href="{% url 'project:client-projects' %}" class="btn-secondary">
                        <i class="fas fa-file-alt"></i> View Proposals
                    </a>
                </div>
                <div class="empty-tip">
                    <i class="fas fa-lightbulb"></i>
                    <span>Tip: Clear project descriptions attract better proposals</span>
                </div>
            </div>
        {% endif %}
        
        {% if active_projects_data %}
        <div class="pagination">
            <button class="pagination-btn" disabled>
                <i class="fas fa-chevron-left"></i> Previous
            </button>
            <div class="page-numbers">
                <button class="page-number active">1</button>
                {% if total_projects > 6 %}
                    <button class="page-number">2</button>
                    {% if total_projects > 12 %}
                        <button class="page-number">3</button>
                        <span class="page-ellipsis">...</span>
                    {% endif %}
                {% endif %}
            </div>
            <button class="pagination-btn" {% if total_projects <= 6 %}disabled{% endif %}>
                Next <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        
        <div class="view-all-container">
            <a href="{% url 'contract:client_contract_list' %}" class="view-all-link">
                View All Projects <i class="fas fa-arrow-right"></i>
            </a>
        </div>
        {% endif %}
    </div>
</div>

<!-- Performance Dashboard Section -->
<div class="client-progress-section">
    <div class="container">
        <div class="progress-header">
            <div class="header-content">
                <h2>Performance Overview</h2>
                <p class="subtitle">Track your project performance and spending</p>
            </div>
        </div>
        
        <div class="progress-cards">
            <div class="progress-card spending">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <h3>Total Spending</h3>
                </div>
                <div class="card-body">
                    <div class="progress-value">Rs {{ total_spent|floatformat:2|intcomma }}</div>
                    <div class="progress-stats">
                        <span class="progress-percent">This Month: Rs {{ current_month_spending|floatformat:2|intcomma }}</span>
                    </div>
                </div>
            </div>
            
            <div class="progress-card projects">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <h3>Active Projects</h3>
                </div>
                <div class="card-body">
                    <div class="progress-value">{{ active_projects }}</div>
                    <div class="progress-stats">
                        <span class="progress-percent">{{ in_development }} in development, {{ in_review }} in review</span>
                    </div>
                </div>
            </div>
            
            <div class="progress-card completion">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>Completed Projects</h3>
                </div>
                <div class="card-body">
                    <div class="progress-value">{{ completed_projects }}</div>
                    <div class="progress-stats">
                        <span class="progress-percent">Total Value: Rs {{ total_spent|floatformat:2|intcomma }}</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="progress-chart-container">
            <div class="chart-header">
                <h3>Monthly Spending Trend</h3>
            </div>
            <div class="progress-chart">
                <canvas id="clientProgressChart"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- Recommended Freelancers Section -->
{% comment %} <div class="recommended-freelancers-section">
    <div class="container">
        <div class="section-header">
            <div class="header-content">
                <h2>Recommended Freelancers</h2>
                <p class="subtitle">Top talent matched to your project needs</p>
            </div>
            
            <div class="priority-filters">
                <div class="filter-group">
                    <select id="priority-skill-filter" class="priority-filter">
                        <option value="">All Skills</option>
                        <option value="html-css">HTML/CSS</option>
                        <option value="javascript">JavaScript</option>
                        <option value="react">React</option>
                        <option value="node">Node.js</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <select id="priority-exp-filter" class="priority-filter">
                        <option value="">All Experience</option>
                        <option value="entry">Entry Level</option>
                        <option value="mid">Mid Level</option>
                        <option value="senior">Senior</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="card-grid">
            <div class="freelancer-card">
                <div class="freelancer-project-slider">
                    <div class="slider-container">
                        <div class="slider-track">
                            <div class="slide">
                                <img src="{% static 'images/defaultimages/defaultprojectpic.jpg' %}" alt="Project Image 1">
                            </div>
                            <div class="slide">
                                <img src="{% static 'images/defaultimages/defaultprojectpic.jpg' %}" alt="Project Image 2">
                            </div>
                            <div class="slide">
                                <img src="{% static 'images/defaultimages/defaultprojectpic.jpg' %}" alt="Project Image 3">
                            </div>
                        </div>
                    </div>
                    <div class="slider-controls">
                        <button class="slider-prev"><i class="fas fa-chevron-left"></i></button>
                        <div class="slider-dots">
                            <span class="dot active"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                        <button class="slider-next"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>

                <div class="freelancer-info">
                    <div class="freelancer-profile-icon">
                        <i class="fas fa-user"></i>
                    </div> 
                    <div class="freelancer-details">
                        <p class="freelancer-name">John Doe</p>
                        <div class="freelancer-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> New York, USA</span>
                            <span class="rating">
                                <i class="fas fa-star"></i> 4.9
                                <span class="review-count">(128 reviews)</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="freelancer-details-info">
                    <div class="freelancer-stats">
                        <div class="stat-item">
                            <i class="fas fa-briefcase"></i>
                            <div>
                                <span class="stat-value">87</span>
                                <span class="stat-label">Projects Completed</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-calendar-alt"></i>
                            <div>
                                <span class="stat-value">5+</span>
                                <span class="stat-label">Years of Experience</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-clock"></i>
                            <div>
                                <span class="stat-value">98%</span>
                                <span class="stat-label">Delivery On Time</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <span class="stat-value">100%</span>
                                <span class="stat-label">Project Completion</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Skills Section -->
                    <div class="freelancer-skills">
                        <div class="skills-header">
                            <i class="fas fa-tools"></i>
                            <span class="sub-title">Skills</span>
                            <span class="skills-count">8 skills</span>
                        </div>
                        <div class="skills-list-container">
                            <div class="skills-list">
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    HTML/CSS
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    JavaScript
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    React
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    Node.js
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    UI/UX Design
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    Responsive Design
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    REST APIs
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    MongoDB
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card-buttons">
                    <a href="#" class="message-btn"><i class="fas fa-comment-alt"></i> <span>Message</span></a>
                    <a href="#" class="view-details-btn"><i class="fas fa-eye"></i> <span>View Details</span></a>
                </div>
            </div>  
            <div class="freelancer-card">
                <div class="freelancer-project-slider">
                    <div class="slider-container">
                        <div class="slider-track">
                            <div class="slide">
                                <img src="{% static 'images/defaultimages/defaultprojectpic.jpg' %}" alt="Project Image 1">
                            </div>
                            <div class="slide">
                                <img src="{% static 'images/defaultimages/defaultprojectpic.jpg' %}" alt="Project Image 2">
                            </div>
                            <div class="slide">
                                <img src="{% static 'images/defaultimages/defaultprojectpic.jpg' %}" alt="Project Image 3">
                            </div>
                        </div>
                    </div>
                    <div class="slider-controls">
                        <button class="slider-prev"><i class="fas fa-chevron-left"></i></button>
                        <div class="slider-dots">
                            <span class="dot active"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                        <button class="slider-next"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>

                <div class="freelancer-info">
                    <div class="freelancer-profile-icon">
                        <i class="fas fa-user"></i>
                    </div> 
                    <div class="freelancer-details">
                        <p class="freelancer-name">John Doe</p>
                        <div class="freelancer-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> New York, USA</span>
                            <span class="rating">
                                <i class="fas fa-star"></i> 4.9
                                <span class="review-count">(128 reviews)</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="freelancer-details-info">
                    <div class="freelancer-stats">
                        <div class="stat-item">
                            <i class="fas fa-briefcase"></i>
                            <div>
                                <span class="stat-value">87</span>
                                <span class="stat-label">Projects Completed</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-calendar-alt"></i>
                            <div>
                                <span class="stat-value">5+</span>
                                <span class="stat-label">Years of Experience</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-clock"></i>
                            <div>
                                <span class="stat-value">98%</span>
                                <span class="stat-label">Delivery On Time</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <span class="stat-value">100%</span>
                                <span class="stat-label">Project Completion</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Skills Section -->
                    <div class="freelancer-skills">
                        <div class="skills-header">
                            <i class="fas fa-tools"></i>
                            <span class="sub-title">Skills</span>
                            <span class="skills-count">8 skills</span>
                        </div>
                        <div class="skills-list-container">
                            <div class="skills-list">
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    HTML/CSS
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    JavaScript
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    React
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    Node.js
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    UI/UX Design
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    Responsive Design
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    REST APIs
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    MongoDB
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card-buttons">
                    <a href="#" class="message-btn"><i class="fas fa-comment-alt"></i> <span>Message</span></a>
                    <a href="#" class="view-details-btn"><i class="fas fa-eye"></i> <span>View Details</span></a>
                </div>
            </div> 
            <div class="freelancer-card">
                <div class="freelancer-project-slider">
                    <div class="slider-container">
                        <div class="slider-track">
                            <div class="slide">
                                <img src="{% static 'images/defaultimages/defaultprojectpic.jpg' %}" alt="Project Image 1">
                            </div>
                            <div class="slide">
                                <img src="{% static 'images/defaultimages/defaultprojectpic.jpg' %}" alt="Project Image 2">
                            </div>
                            <div class="slide">
                                <img src="{% static 'images/defaultimages/defaultprojectpic.jpg' %}" alt="Project Image 3">
                            </div>
                        </div>
                    </div>
                    <div class="slider-controls">
                        <button class="slider-prev"><i class="fas fa-chevron-left"></i></button>
                        <div class="slider-dots">
                            <span class="dot active"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                        <button class="slider-next"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>

                <div class="freelancer-info">
                    <div class="freelancer-profile-icon">
                        <i class="fas fa-user"></i>
                    </div> 
                    <div class="freelancer-details">
                        <p class="freelancer-name">John Doe</p>
                        <div class="freelancer-meta">
                            <span class="location"><i class="fas fa-map-marker-alt"></i> New York, USA</span>
                            <span class="rating">
                                <i class="fas fa-star"></i> 4.9
                                <span class="review-count">(128 reviews)</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="freelancer-details-info">
                    <div class="freelancer-stats">
                        <div class="stat-item">
                            <i class="fas fa-briefcase"></i>
                            <div>
                                <span class="stat-value">87</span>
                                <span class="stat-label">Projects Completed</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-calendar-alt"></i>
                            <div>
                                <span class="stat-value">5+</span>
                                <span class="stat-label">Years of Experience</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-clock"></i>
                            <div>
                                <span class="stat-value">98%</span>
                                <span class="stat-label">Delivery On Time</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <span class="stat-value">100%</span>
                                <span class="stat-label">Project Completion</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Skills Section -->
                    <div class="freelancer-skills">
                        <div class="skills-header">
                            <i class="fas fa-tools"></i>
                            <span class="sub-title">Skills</span>
                            <span class="skills-count">8 skills</span>
                        </div>
                        <div class="skills-list-container">
                            <div class="skills-list">
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    HTML/CSS
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    JavaScript
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    React
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    Node.js
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    UI/UX Design
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    Responsive Design
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    REST APIs
                                </span>
                                <span class="skill-tag">
                                    <span class="skill-icon"><i class="fas fa-code"></i></span>
                                    MongoDB
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card-buttons">
                    <a href="#" class="message-btn"><i class="fas fa-comment-alt"></i> <span>Message</span></a>
                    <a href="#" class="view-details-btn"><i class="fas fa-eye"></i> <span>View Details</span></a>
                </div>
            </div> 
        </div>

        <div class="pagination">
            <button class="pagination-btn" disabled>
                <i class="fas fa-chevron-left"></i> Previous
            </button>
            <div class="page-numbers">
                <button class="page-number active">1</button>
                <button class="page-number">2</button>
                <button class="page-number">3</button>
                <span class="page-ellipsis">...</span>
                <button class="page-number">12</button>
            </div>
            <button class="pagination-btn">
                Next <i class="fas fa-chevron-right"></i>
            </button>
        </div>

        <div class="view-all-container">
            <a href="" class="view-all-link">
                View All Freelancers <i class="fas fa-arrow-right"></i>
            </a>
        </div>

        <div class="empty-freelancers">
            <div class="empty-illustration">
                <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
            </div>
            <h3 class="empty-title">No Recommended Freelancers</h3>
            <p class="empty-message">We couldn't find any freelancers matching your current criteria. Try adjusting your filters or check back later as new talent joins daily.</p>
            <div class="empty-actions">
                <a href="#" class="btn-primary">
                    <i class="fas fa-filter"></i> Adjust Filters
                </a>
                <a href="#" class="btn-secondary">
                    <i class="fas fa-search"></i> Browse All Freelancers
                </a>
            </div>
            <div class="empty-tip">
                <i class="fas fa-lightbulb"></i>
                <span>Tip: Broaden your search criteria to see more results</span>
            </div>
        </div>
        
    </div>
</div> {% endcomment %}

{% endblock %}

{% block js_files %}
{{ block.super }}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const ctx = document.getElementById('clientProgressChart').getContext('2d');
    const months = {{ months|safe }};
    const spendingData = {{ spending_data|safe }};
    
    new Chart(ctx, {
        type: 'line',
        data: {
            labels: months,
            datasets: [{
                label: 'Monthly Spending',
                data: spendingData,
                borderColor: '#4CAF50',
                backgroundColor: 'rgba(76, 175, 80, 0.1)',
                tension: 0.4,
                fill: true,
                pointBackgroundColor: '#4CAF50',
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 4,
                pointHoverRadius: 6
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    padding: 12,
                    titleFont: {
                        size: 14,
                        weight: 'bold'
                    },
                    bodyFont: {
                        size: 13
                    },
                    callbacks: {
                        label: function(context) {
                            return 'Rs ' + context.raw.toLocaleString();
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)'
                    },
                    ticks: {
                        callback: function(value) {
                            return 'Rs ' + value.toLocaleString();
                        },
                        font: {
                            size: 12
                        }
                    }
                },
                x: {
                    grid: {
                        display: false
                    },
                    ticks: {
                        font: {
                            size: 12
                        }
                    }
                }
            }
        }
    });
});
</script>
{% endblock %}